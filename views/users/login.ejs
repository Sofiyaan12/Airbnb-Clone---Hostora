<% layout("/layouts/boilerplate.ejs") %>

<style>
  .auth-wrapper {
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 2rem 1rem;
    background: #f8f9fa;
  }

  .auth-card {
    background: white;
    padding: 3rem 2.5rem;
    border-radius: 1.5rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 550px;
  }

  .auth-card h1 {
    text-align: center;
    margin-bottom: 2rem;
    font-weight: 600;
    font-size: 2rem;
  }

  .form-label {
    font-weight: 500;
    font-size: 1rem;
  }

  .form-control {
    border-radius: 0.75rem;
    padding: 0.9rem 1.25rem;
    font-size: 1.05rem;
  }

  .btn-success {
    width: 100%;
    border-radius: 2rem;
    font-weight: 600;
    padding: 0.85rem;
    font-size: 1.1rem;
  }

  .eye-icon {
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    cursor: pointer;
    font-size: 1.2rem;
    color: #6c757d;
  }
</style>

<div class="auth-wrapper">
  <div class="auth-card">
    <h1>Login</h1>
    <form action="/login" method="POST" class="needs-validation" novalidate>
      <div class="mb-4">
        <label for="username" class="form-label">Username</label>
        <input name="username" id="username" type="text" class="form-control" placeholder="Enter your username" required />
      </div>

      <div class="mb-4">
        <label for="password" class="form-label">Password</label>
        <div class="position-relative">
          <input name="password" id="loginPassword" type="password" class="form-control pe-5" placeholder="Enter your password" required />
          <i id="loginEyeIcon" class="bi bi-eye-slash eye-icon" onclick="togglePassword('loginPassword', 'loginEyeIcon')"></i>
        </div>
      </div>

      <button class="btn btn-success" type="submit">Login</button>
    </form>
  </div>
</div>

<script>
  function togglePassword(inputId, iconId) {
    const input = document.getElementById(inputId);
    const icon = document.getElementById(iconId);
    if (input.type === "password") {
      input.type = "text";
      icon.classList.remove("bi-eye-slash");
      icon.classList.add("bi-eye");
    } else {
      input.type = "password";
      icon.classList.remove("bi-eye");
      icon.classList.add("bi-eye-slash");
    }
  }
</script>
